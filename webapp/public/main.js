"use strict";function ownKeys(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(a){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(a);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Calendar=function(){_inherits(s,React.Component);var n=_createSuper(s);function s(){var r;_classCallCheck(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return _defineProperty(_assertThisInitialized(r=n.call.apply(n,[this].concat(t))),"months",["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"]),_defineProperty(_assertThisInitialized(r),"dayNames",["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"]),_defineProperty(_assertThisInitialized(r),"state",{year:global.year,month:global.month,dayNow:now.getDate(),day:"",dayName:"",animationTimer:!1,reminders:[],loaded:!1}),_defineProperty(_assertThisInitialized(r),"setReminders",function(e){r.setState({reminders:e})}),_defineProperty(_assertThisInitialized(r),"getReminders",function(e,t){r.setState({loaded:!1}),axios({method:"get",url:"/api/reminder/get",params:{year:e,month:t}}).then(function(e){var t={};0<e.data.length&&e.data.map(function(e){t[e.day]?t[e.day].push(e):t[e.day]=[e]}),r.setState({reminders:t,loaded:!0})}).catch(function(e){return handleAxiosError(e)})}),_defineProperty(_assertThisInitialized(r),"changeYear",function(e){var t=r.state.year+e;global.year=t,r.setState({year:t,day:""});var a=document.querySelector("#year-wrapper");r.state.animationTimer&&(a.className="year-wrapper",window.clearTimeout(r.state.animationTimer)),a.classList.add("year-wrapper"+e);var n=window.setTimeout(function(){a.classList.remove("year-wrapper"+e)},200);r.setState({animationTimer:n}),r.getReminders(t,r.state.month)}),_defineProperty(_assertThisInitialized(r),"changeMonth",function(e){global.month=e,r.setState({month:e,day:""}),r.getReminders(r.state.year,e)}),_defineProperty(_assertThisInitialized(r),"changeDay",function(e,t){r.setState({day:e,dayName:r.dayNames[(t+e)%7]})}),r}return _createClass(s,[{key:"componentDidMount",value:function(){this.getReminders(this.state.year,this.state.month)}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(YearSelector,{year:this.state.year,changeYearFunc:this.changeYear,today:now.getFullYear()}),React.createElement(MonthSelector,{monthNames:this.months,current:this.state.month,changeMonthFunc:this.changeMonth,today:now.getMonth()}),this.state.loaded?React.createElement(DaySelect,{year:this.state.year,month:this.state.month,day:this.state.day,now:this.state.dayNow,changeDayFunc:this.changeDay,reminders:this.state.reminders}):React.createElement("div",{className:"loading"}),this.state.loaded?React.createElement(Reminder,{year:this.state.year,month:this.state.month,day:this.state.day,dayName:this.state.dayName,reminders:this.state.reminders,remindersFun:this.setReminders}):React.createElement("div",{className:"loading"}))}}]),s}(),now=new Date,global={year:now.getFullYear(),month:now.getMonth()};function handleAxiosError(e){console.log(e.data)}var App=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var t;_classCallCheck(this,s);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"state",{location:"cal",loaded:!1}),_defineProperty(_assertThisInitialized(t),"changeLocation",function(e){t.setState({location:e})}),t}return _createClass(s,[{key:"componentDidMount",value:function(){var a=this;axios({method:"get",url:"/api/user/cookie"}).then(function(e){var t;e.data.exists||((t=new Date).setTime(+t+864e8),document.cookie="userToken=".concat(e.data.userToken,"; expires=").concat(t.toGMTString(),"; path=/;")),a.setState({loaded:!0})}).catch(function(e){return handleAxiosError(e)})}},{key:"render",value:function(){if(!this.state.loaded)return React.createElement("div",{className:"loading"});switch(this.state.location){case"cal":return React.createElement("div",null,React.createElement(Menu,{location:this.state.location,locationFunc:this.changeLocation}),React.createElement(Calendar,null));case"note":return React.createElement("div",null,React.createElement(Menu,{location:this.state.location,locationFunc:this.changeLocation}),React.createElement(Note,null));case"task":return React.createElement("div",null,React.createElement(Menu,{location:this.state.location,locationFunc:this.changeLocation}),React.createElement(Task,null));default:return null}}}]),s}();ReactDOM.render(React.createElement(App,null),document.getElementById("app"));var Note=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var t;_classCallCheck(this,s);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"state",{opened:!1,notes:[],loaded:!1}),_defineProperty(_assertThisInitialized(t),"getNotes",function(){axios({method:"get",url:"/api/note/get",params:{search:0<arguments.length&&void 0!==arguments[0]?arguments[0]:""}}).then(function(e){t.setState({notes:e.data,loaded:!0})}).catch(function(e){return handleAxiosError(e)})}),_defineProperty(_assertThisInitialized(t),"openChange",function(e){t.setState({opened:e})}),_defineProperty(_assertThisInitialized(t),"editNotes",function(e){t.setState({notes:e})}),t}return _createClass(s,[{key:"componentDidMount",value:function(){this.getNotes()}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.notes.length;a++)t.push(React.createElement(NotePanel,{key:a,index:a,details:this.state.notes[a],openFunc:this.openChange}));return React.createElement("div",null,React.createElement(NoteSearch,{fetchFunc:this.getNotes}),React.createElement("button",{className:"note-add",onClick:function(){return e.setState({opened:"add"})}},"Přidat"),this.state.opened&&React.createElement(NoteWindow,{opened:this.state.opened,openFunc:this.openChange,notes:this.state.notes,notesFunc:this.editNotes}),this.state.loaded?React.createElement("div",{className:"note-box"},t):React.createElement("div",{className:"loading"}))}}]),s}(),Task=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var t;_classCallCheck(this,s);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"state",{open:"",tasks:[],loaded:!1}),_defineProperty(_assertThisInitialized(t),"getTasks",function(){axios({method:"get",url:"/api/task/get"}).then(function(e){t.setState({tasks:e.data,loaded:!0})}).catch(function(e){return handleAxiosError(e)})}),_defineProperty(_assertThisInitialized(t),"editTasks",function(e){t.setState({tasks:e})}),_defineProperty(_assertThisInitialized(t),"handleOpen",function(e){t.state.open==e?t.setState({open:""}):t.setState({open:e})}),t}return _createClass(s,[{key:"componentDidMount",value:function(){this.getTasks()}},{key:"render",value:function(){var a=this,n=[],r=[];this.state.tasks.forEach(function(e,t){(e.done?r:n).push(React.createElement(TaskLine,{key:t,index:t,tasks:a.state.tasks,tasksFunc:a.editTasks}))});var e={},t={};return"add"==this.state.open&&(e.active="true"),"history"==this.state.open&&(t.active="true"),React.createElement("div",null,React.createElement("div",{className:"top"},React.createElement("button",_extends({className:"top-task task-add"},e,{onClick:function(){return a.handleOpen("add")}})),React.createElement("button",_extends({className:"top-task task-history"},t,{onClick:function(){return a.handleOpen("history")}}))),"add"==this.state.open&&React.createElement(TaskAdder,{tasks:this.state.tasks,tasksFunc:this.editTasks,openFunc:this.handleOpen}),this.state.loaded?React.createElement("div",null,React.createElement("div",_extends({className:"tasks-wrapper tasks-history"},t),React.createElement("div",{className:"tasks-toolbar"},"Splněné úkoly"),r),React.createElement("div",{className:"tasks-wrapper"},React.createElement("div",{className:"tasks-toolbar"},"Nedokončené úkoly"),n)):React.createElement("div",{className:"loading"}))}}]),s}(),DaySelect=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var a;_classCallCheck(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _defineProperty(_assertThisInitialized(a=r.call.apply(r,[this].concat(t))),"state",{now:now}),_defineProperty(_assertThisInitialized(a),"firstDay",function(e,t){t=new Date(e,t,1).getDay()-1;return-1==t&&(t=6),t}),_defineProperty(_assertThisInitialized(a),"clicked",function(e,t){a.props.changeDayFunc(e+1,t)}),a}return _createClass(s,[{key:"render",value:function(){var a=this,e=this.props,t=e.year,n=e.month,r=e.day,s=e.now,i=e.reminders,o=!1;t==this.state.now.getFullYear()&&n==this.state.now.getMonth()&&(o=!0);var c=new Date(t,n+1,0).getDate(),l=this.firstDay(t,n),u=[];["Po","Út","St","Čt","Pá","So","Ne"].map(function(e,t){u.push(React.createElement("div",{key:t+"header",className:"cell-header"},e))});for(var d=0;d<l;d++)u.push(React.createElement("div",{key:d+"empty",className:"empty-cell"},"0"));for(var m=0;m<c;m++)!function(e){var t={};i[e+1]&&(t.reminder="true"),o&&e==s-1&&(t.now="true"),e==r-1&&(t.active="true"),u.push(React.createElement("button",_extends({key:e,className:"cell"},t,{onClick:function(){return a.clicked(e,l)}}),e+1))}(m);return React.createElement("div",{className:"month"},React.createElement("div",{className:"cal-table"},u))}}]),s}(),Menu=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var t;_classCallCheck(this,s);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"state",{visible:!1}),_defineProperty(_assertThisInitialized(t),"menuOpened",function(e){t.setState({visible:e})}),t}return _createClass(s,[{key:"render",value:function(){for(var a=this,e=this.props,t=e.location,n=e.locationFunc,r=["cal","note","task"],s=["Události","Poznámky","Úkoly"],i=r.indexOf(t),o=[],c=0;c<r.length;c++)!function(e){var t={};i==e&&(t.active="true"),o.push(React.createElement("button",_extends({key:e,className:"menu-item"},t,{onClick:function(){n(r[e]),a.menuOpened(!1)}}),s[e]))}(c);return this.state.visible?React.createElement("div",null,React.createElement("button",{className:"menu-button"}),React.createElement("div",{className:"menu-wrapper"},React.createElement("div",{className:"menu"},React.createElement("button",{className:"menu-close",onClick:function(){return a.menuOpened(!1)}}),React.createElement("div",{className:"menu-items"},o)),React.createElement("div",{className:"menu-empty",onClick:function(){return a.menuOpened(!1)}}))):React.createElement("div",null,React.createElement("button",{className:"menu-button",onClick:function(){return a.menuOpened(!0)}}))}}]),s}(),MonthSelector=function(){_inherits(t,React.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){for(var e=this.props,a=e.monthNames,n=e.current,r=e.changeMonthFunc,s=e.today,i=[],t=0;t<a.length;t++)!function(e){var t={};e==n&&(t.active="true"),e==s&&(t.now="true"),i.push(React.createElement("button",_extends({className:"month-item"},t,{key:e,onClick:function(){return r(e)}}),a[e]))}(t);return React.createElement("div",{className:"month-select"},i)}}]),t}(),NotePanel=function(){_inherits(t,React.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=this;return React.createElement("button",{className:"note-panel",onClick:function(){return e.props.openFunc(""+e.props.index)}},React.createElement("div",{className:"note-header"},this.props.details.title),React.createElement("div",{className:"note-content",dangerouslySetInnerHTML:{__html:this.props.details.text}}))}}]),t}(),NoteSearch=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var e;_classCallCheck(this,s);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(e=r.call.apply(r,[this].concat(a))),"state",{value:"",searched:!1}),_defineProperty(_assertThisInitialized(e),"doSearch",function(){e.state.searched!=e.state.value&&(e.props.fetchFunc(e.state.value),e.setState({searched:e.state.value}))}),e}return _createClass(s,[{key:"render",value:function(){var t=this;return React.createElement("div",{className:"top"},React.createElement("div",{className:"search-wrapper"},React.createElement("input",{type:"text",className:"search",placeholder:"Vyhledat",onInput:function(e){return t.setState({value:e.target.value})},onKeyPress:function(e){"Enter"===e.key&&t.doSearch()},onBlur:function(){return t.doSearch()}}),React.createElement("button",{className:"search-go",onClick:function(){return t.doSearch()}})))}}]),s}(),NoteWindow=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var n;_classCallCheck(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return _defineProperty(_assertThisInitialized(n=r.call.apply(r,[this].concat(t))),"state",{title:"",text:"",id:0,delConfirm:!1}),_defineProperty(_assertThisInitialized(n),"noteCreate",function(a){axios({method:"post",url:"/api/note/create",data:a}).then(function(e){var t=a;t.id=e.data.id;t=[].concat(_toConsumableArray(n.props.notes),[t]);n.props.notesFunc(t)}).catch(function(e){return handleAxiosError(e)})}),_defineProperty(_assertThisInitialized(n),"noteUpdate",function(a){axios({method:"put",url:"/api/note/update",data:a}).then(function(e){var t=n.props.notes.map(function(e){return e.id==a.id?a:e});n.props.notesFunc(t)}).catch(function(e){console.log(e)})}),_defineProperty(_assertThisInitialized(n),"close",function(){var e=n.state,t=e.title,e=e.text;""!=e&&(""==t&&(t="Bez názvu"),e={title:t,text:e},"add"==n.props.opened?n.noteCreate(e):(e.id=n.state.id,n.noteUpdate(e))),n.props.openFunc(!1)}),_defineProperty(_assertThisInitialized(n),"delete",function(){n.state.delConfirm?axios({method:"delete",url:"/api/note/delete",data:{id:n.state.id}}).then(function(e){var t=n.props.notes.filter(function(e){return e.id!=n.state.id});n.props.notesFunc(t),n.props.openFunc(!1)}).catch(function(e){console.log(e)}):n.setState({delConfirm:!0})}),n}return _createClass(s,[{key:"componentDidMount",value:function(){var e,t,a=this.props.opened;"add"!=a&&(e=(t=this.props.notes[a]).id,a=t.title,t=t.text,document.getElementById("textbox").innerHTML=t,this.setState({title:a,text:t,id:e}))}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"note-wrapper"},React.createElement("div",{className:"note-link",onClick:function(){return t.close()}}),React.createElement("div",{className:"note-window"},React.createElement("div",{className:"note-toolbar"},React.createElement("button",{className:"note-close",onClick:function(){return t.close()}}),"add"!=this.props.opened&&React.createElement("button",{className:"note-delete"+(this.state.delConfirm?" note-delete-confirm":""),onClick:function(){return t.delete()}})),React.createElement("input",{type:"text",className:"note-title",placeholder:"Název",value:this.state.title,onChange:function(e){return t.setState({title:e.target.value})},onFocus:function(){return t.setState({delConfirm:!1})}}),React.createElement("div",{className:"note-text",id:"textbox",contentEditable:"true",suppressContentEditableWarning:"true",onInput:function(e){return t.setState({text:e.target.innerHTML})},onFocus:function(){return t.setState({delConfirm:!1})}})))}}]),s}(),Reminder=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var n;_classCallCheck(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return _defineProperty(_assertThisInitialized(n=r.call.apply(r,[this].concat(t))),"state",{add:!1}),_defineProperty(_assertThisInitialized(n),"setAdd",function(e){n.setState({add:e})}),_defineProperty(_assertThisInitialized(n),"addRem",function(e,t){var a;e.target.disabled||""==t.text||(e.target.disabled=!0,e=n.props,a={year:e.year,month:e.month,day:e.day,entireDay:t.entireDay,minutes:t.minutes,hours:t.hours,text:t.text},axios({method:"post",url:"/api/reminder/create",data:a}).then(function(e){a.id=e.data.id;e=_objectSpread({},n.props.reminders);e[a.day]?e[a.day].push(a):e[a.day]=[a],n.props.remindersFun(e),n.setState({add:!1})}).catch(function(e){return handleAxiosError(e)}))}),_defineProperty(_assertThisInitialized(n),"removeRem",function(e,a){e.target.disabled||((e=n.props).year,e.month,e={day:a.day,id:a.id},axios({method:"delete",url:"/api/reminder/delete",data:e}).then(function(e){var t=_objectSpread({},n.props.reminders);1==t[a.day].length?delete t[a.day]:t[a.day]=t[a.day].filter(function(e){return e.id!=a.id}),n.props.remindersFun(t)}).catch(function(e){return handleAxiosError(e)}))}),n}return _createClass(s,[{key:"render",value:function(){var t=this,e=this.props,a=e.year,n=e.month,r=e.day,s=e.dayName,i=e.reminders,e="Není vybrán den";""!=r&&(e="".concat(s," ").concat(r,". ").concat(n+1,". ").concat(a));var o=[];if(0==Object.keys(i).length)o.push(React.createElement("tr",{key:"empty",className:"rem-empty"},React.createElement("td",null,"Zatím nemáte vytvořené události")));else if(""==r)for(var c in i)i[c].forEach(function(e){o.push(React.createElement(ReminderLine,{key:e.id,reminder:e,showDays:!0,removeFunc:t.removeRem}))});else i[r]?i[r].forEach(function(e){o.push(React.createElement(ReminderLine,{key:e.id,reminder:e,showDays:!1,removeFunc:t.removeRem}))}):o.push(React.createElement("tr",{key:"empty",className:"rem-empty"},React.createElement("td",null,"Zatím nemáte vytvořené události")));return React.createElement("div",{className:"rem-wrapper"},React.createElement("div",{className:"rem-toolbar"},e,""!=r&&React.createElement("button",{className:"rem-add",onClick:function(){return t.setAdd(!t.state.add)}})),this.state.add&&""!=r&&React.createElement(ReminderAdder,{setAddFunc:this.setAdd,addRemFunc:this.addRem}),React.createElement("table",{cellSpacing:"0",cellPadding:"0",className:"rem-cont"},React.createElement("tbody",null,o)))}}]),s}(),ReminderAdder=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var t;_classCallCheck(this,s);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"state",{entireDay:!1,hours:now.getHours(),minutes:now.getMinutes(),text:""}),_defineProperty(_assertThisInitialized(t),"entireDaySet",function(e){return t.setState({entireDay:e.target.checked})}),_defineProperty(_assertThisInitialized(t),"validInput",function(e){if(""==e.target.value)return!0;if(/^[0-9]$|^[0-9][0-9]$/.test(e.target.value)){var t=parseInt(e.target.value);return t>=e.target.min&&t<=e.target.max}return!1}),_defineProperty(_assertThisInitialized(t),"hoursSet",function(e){t.validInput(e)&&t.setState({hours:parseInt(e.target.value)})}),_defineProperty(_assertThisInitialized(t),"minutesSet",function(e){t.validInput(e)&&t.setState({minutes:parseInt(e.target.value)})}),t}return _createClass(s,[{key:"render",value:function(){var t=this;return React.createElement("div",{className:"rem-adder-wrapper"},React.createElement("div",{className:"rem-link",onClick:function(){return t.props.setAddFunc(!1)}}),React.createElement("div",{className:"rem-adder"},React.createElement("div",{className:"rem-form-left"},React.createElement("div",{className:"rem-entire"},React.createElement("div",{className:"checkbox rem-checkbox"},React.createElement("input",{type:"checkbox",onChange:function(e){return t.entireDaySet(e)},checked:this.entireDay}),React.createElement("span",null)),React.createElement("span",null,"Celý den"))),React.createElement("div",{className:"rem-form-right"},React.createElement("div",{className:"rem-inputs"},React.createElement("input",{className:"rem-input",type:"text",min:"0",max:"23",onChange:this.hoursSet,value:this.state.hours,disabled:this.state.entireDay}),":",React.createElement("input",{className:"rem-input",type:"text",min:"0",max:"59",onChange:this.minutesSet,value:this.state.minutes,disabled:this.state.entireDay})),React.createElement("div",{className:"rem-sliders"},"Hodniny",React.createElement("div",{className:"rem-slider-cont"},React.createElement("input",{type:"range",min:"0",max:"23",className:"rem-slider",value:this.state.hours,onChange:this.hoursSet,disabled:this.state.entireDay})),"Minuty",React.createElement("div",{className:"rem-slider-cont"},React.createElement("input",{type:"range",min:"0",max:"59",className:"rem-slider",value:this.state.minutes,onChange:this.minutesSet,disabled:this.state.entireDay})))),React.createElement("textarea",{className:"rem-text",placeholder:"Obsah události...",onChange:function(e){return t.setState({text:e.target.value})},value:this.state.text}),React.createElement("button",{className:"submit",onClick:function(e){return t.props.addRemFunc(e,t.state)}},"Přidat")))}}]),s}(),ReminderLine=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var e;_classCallCheck(this,s);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return _defineProperty(_assertThisInitialized(e=r.call.apply(r,[this].concat(a))),"formatMinutes",function(e){return 1==e.toString().length?"0"+e:e}),e}return _createClass(s,[{key:"render",value:function(){var e=this.props,t=e.reminder,a=e.showDays,n=e.removeFunc;return React.createElement("tr",{className:"rem-line"},a&&React.createElement("td",{className:"rem-day"},t.day,"."),!t.entireDay&&React.createElement("td",{className:"rem-time"},t.hours,":",this.formatMinutes(t.minutes)),t.entireDay&&React.createElement("td",{className:"rem-time"},React.createElement("div",{className:"rem-entire-day"},"-")),React.createElement("td",{className:"rem-content"},t.text),React.createElement("td",{className:"rem-del-cont"},React.createElement("button",{className:"rem-del",onClick:function(e){return n(e,t)}})))}}]),s}(),TaskAdder=function(){_inherits(s,React.Component);var r=_createSuper(s);function s(){var a;_classCallCheck(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _defineProperty(_assertThisInitialized(a=r.call.apply(r,[this].concat(t))),"state",{value:""}),_defineProperty(_assertThisInitialized(a),"handleAdding",function(e){var t;e.target.disabled||(e.preventDefault(),e.target.disabled=!0,t={text:a.state.value},axios({method:"post",url:"/api/task/create",data:t}).then(function(e){t.id=e.data.id,t.done=!1;e=[t].concat(_toConsumableArray(a.props.tasks));a.props.tasksFunc(e),a.props.openFunc("")}).catch(function(e){return handleAxiosError(e)}))}),a}return _createClass(s,[{key:"render",value:function(){var t=this;return React.createElement("div",{className:"tasks-wrapper"},React.createElement("div",{className:"tasks-toolbar"},"Přidat nový"),React.createElement("form",{onSubmit:function(e){return t.handleAdding(e)}},React.createElement("textarea",{className:"task-input",value:this.state.value,onChange:function(e){return t.setState({value:e.target.value})},placeholder:"Prazdný úkol..."}),React.createElement("button",{type:"submit",className:"task-submit"},"Přidat")))}}]),s}(),TaskLine=function(){_inherits(s,React.Component);var n=_createSuper(s);function s(){var r;_classCallCheck(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return _defineProperty(_assertThisInitialized(r=n.call.apply(n,[this].concat(t))),"changeStatus",function(a,n){axios({method:"put",url:"/api/task/finish",data:{id:a}}).then(function(e){var t=r.props.tasks.map(function(e){return e.id==a&&(e.done=n),e});r.props.tasksFunc(t)}).catch(function(e){return handleAxiosError(e)})}),r}return _createClass(s,[{key:"render",value:function(){var t=this,e=this.props.tasks[this.props.index],a=e.id,n=e.text,e=e.done;return React.createElement("div",{className:"task-line"},React.createElement("div",{className:"task-content"},n),React.createElement("div",{className:"checkbox task-checkbox"},React.createElement("input",{type:"checkbox",checked:e,onChange:function(e){return t.changeStatus(a,e.target.checked)}}),React.createElement("span",null)))}}]),s}();function YearSelector(e){for(var a=e.year,n=e.changeYearFunc,r=e.today,s=[],t=-4;t<5;t++)!function(e){var t={};0==e&&(t.active="true"),a+e==r&&(t.now="true"),s.push(React.createElement("button",_extends({onClick:function(){return n(e)},className:"year-item"},t,{key:e}),a+e))}(t);return React.createElement("div",{className:"top"},React.createElement("div",{className:"year-select"},React.createElement("div",{className:"year-wrapper",id:"year-wrapper"},s)))}